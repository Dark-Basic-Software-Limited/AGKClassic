<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Tier 1 (BASIC) Publishing for Blackberry - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../main.js"></script>
<link href="../main.css" rel="styleSheet" type="text/css" />
<link href="../prettify.css" rel="styleSheet" type="text/css" />
<script type="text/javascript" src="../prettify.js"></script>
<script type="text/javascript" src="../lang-agk.js"></script>
<link rel="stylesheet" href="../lightbox/css/lightbox.min.css">
<script src="../lightbox/js/lightbox-plus-jquery.min.js"></script>
<script src="../clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script>
</head>
<body>
<script>var clipboard = new Clipboard('.btn');
clipboard.on('success', function(e)
{
console.log(e);
});
clipboard.on('error', function(e)
{
console.log(e);
});
</script>
<div class="header" style="background: #000 url('../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../home.html"><img src="../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../home.html">Home</a> &gt; <a href="../guides.html">Guides</a> &gt; Tier 1 (BASIC) Publishing for Blackberry</div><div class="page"><h1>Tier 1 (BASIC) Publishing for Blackberry</h1><h2>Part 1: Preparing the AGK Player project</h2><p>It is VITAL that ALL paths do not contain ANY spaces</p><p>Copy	</p><ul><li>IDE/common</li><li>IDE/platform</li><li>IDE/apps/interpreter</li><li>including all sub-folders and files</li></ul><p>to	</p><ul><li>c:/ndk-2.1.0-workspace/common</li><li>c:/ndk-2.1.0-workspace/platform</li><li>c:/ndk-2.1.0-workspace/interpreter</li></ul><p>Copy contents of the new AGK/IDE/apps/interpreter_blackberry (Inc sub-folders and files)to C:\ndk-2.1.0-workspace/AGKPlayer</p><p>Navigate to the new NDK workspace (default=C:\ndk-2.1.0-workspace\)</p><p>Enter the AGKPlayer folder and open the .cproject file in Notepad</p><p>Click Edit > Find and type E: in the search box then click Find Next. Once you find the line reading: value="E:/Programs/PlaybookNDK/target/......" change it to: value="C:/bbndk-2.1.0/target/......". You can press F3 (or click Find Next) to find the next instance of E:, again, change the portion 'E:/Programs/PlaybookNDK/' to 'C:/bbndk-2.1.0/'</p><p>Do this for all four instances of the E: drive path,</p><p>In addition edit the two occurrences of {ProjDirPath}/../../common to {ProjDirPath}/../common and the two occurrences of {ProjDirPath}/../../platform to {ProjDirPath}/../platform and then save the file.</p><p>Now close Notepad.</p><p>Launch the Blackberry SDK 2.1.0</p><p>Allow it to select the default workspace (C:\ndk-2.1.0-workspace). It is VITAL that ALL your paths do not contain ANY spaces. Right click the 'AGKPlayer' project. Select Build Configurations, then Set Active > Device-Release. Now select Clean Project, then select Build Project. All the error warnings should now disappear from the project and files. The project has now been built.</p><p>If the error "Package failed, invalid asset path" use the following method to fix....</p><p>Edit bar-descriptor (use Wordpad), find... </p><p><asset type="Qnx/Elf" path="${QNX_TARGET}/../target-override/${CPUVARDIR}/usr/lib/libbps.so">lib/libbps.so.1</asset></p><p>remove /../target-override/ to leave</p><p><asset type="Qnx/Elf" path="${QNX_TARGET}/${CPUVARDIR}/usr/lib/libbps.so">lib/libbps.so.1</asset></p><p>Right click the 'AGKPlayer' project and select Export. Choose Blackberry Tablet OS and choose Release Build. Leave everything as default and click next</p><p>enter CSK Password:</p><p>Blackberry AGK Player is then built, the .bar file is then found in device-release folder, I then set my Playbook to development mode, connect to the PC and use DDPB to transfer and install the finished .bar file to my Playbook.</p><h2>Part 2: Preparing your own tier 1 application</h2><p>It is VITAL that ALL paths do not contain ANY spaces</p><p>Important Note from AGK V108beta18 README.txt file</p><p>Limiting an app to portrait or landscape in the Blackberry player project is controlled in the bar-descriptor.xml file in the Application tab. Set the Orientation field to portrait, landscape, or auto-orient for all 4 directions. You must also change Core.cpp where is says</p><p>if (EXIT_SUCCESS != bbutil_init_egl(screen_ctx, GL_ES_2, PORTRAIT)) </p><p>to read LANDSCAPE if needed instead.</p><p>Now you have successfully created and built the AGK Player, you are ready to make your own app project</p><ul><li>Now quit the IDE as the next changes are to be applied outside of the IDE</li><li>First copy the C:\ndk-2.1.0-workspace\AGKPlayer project and paste it back into the workspace, rename it to your own app title (e.g. myapp)</li><li>Open the new C:\ndk-2.1.0-workspace\myapp folder,</li><li>Delete the following temporary folders and their files which we won't need: Device-* and Simulator-*</li><li>Also delete README.txt (see note above)</li><li>Now open icon.png and replace the icon with the one for your app, keep the dimensions at 86x86 pixels.</li><li>Copy all the assets from your T1 applications media folder into the assets\media folder in the project</li><li>For example, your bytecode file should be at C:\ndk-2.1.0-workspace\myapp\assets\media\myapp.byc (any sub-folders that your app needs should be in the assets\media folder too.)</li><li>Ensure you rename the .BYC file to bytecode.byc, ensuring the spelling and case are identical</li><li>Open the .cproject in NOTEPAD and select Edit > Replace...</li><li>Type AGKPlayer into the find field and myapp into the replace field (where myapp is the name of your project folder) [six instances]</li><li>NOTE: The above is destructive so ensure your spelling is perfectly correct</li><li>Now save and close notepad</li><li>Do the same with the .project file, ensuring all instances of AGKPlayer are replaced [two instances]</li><li>Open the bar-descriptor.xml file in Notepad and perform the same search replace on that one too [six instances]</li><li>NOTE: Ensure you match the case as there are lower case versions of agkplayer which must not be replaced yet</li><li>Find and replace com.thegamecreators.agkplayer with com.yourcompany.myapp</li><li>The text 'yourcompany' is the company/team/name you wish to publish your app under</li><li>The text 'myapp' is the name of your application, in this example myapp (so: com.acme.myapp)</li><li>Replace 'The AGK Player for Blackberry QNX devices' with your own app description (This can contain spaces and upper case characters)</li><li>WE are almost ready to launch the IDE again. Before you do, MOVE the entire folder out of the C:\ndk-2.1.0-workspace\myapp folder, somewhere safe. (Note: this is a CUT and PASTE) operation.</li><li>Right click on the Project Explorer Window (on the left side)</li><li>Select Import... and select Existing Projects Into Workspace</li><li>Navigate to the newly created project folder you just moved out of the workspace</li><li>The project will highlight as one that can be imported</li><li>Ensure 'copy projects into workspace' is ticked, then click Finish.</li><li>The new project will appear in your project explorer, right click it,</li><li>Now select Build Configurations > Set Active > Device-Release,</li><li>Double click the bar-descriptor.xml file from the Project Explorer</li><li>Select the Application tab (second tab at the bottom of the XML dialog window</li><li>Change the name AGK Player to the name of your app,</li><li>Now select Clean Project to ensure we're working with the latest files</li><li>When you select Build Project, the application should be built successfully</li><li>Now right click the project file and select Export</li><li>Open Blackberry Tablet OS and select Release Build then click Next</li><li>Do not click Finish, and instead click the Next button again,</li><li>Now click the Finish button to perform and final build and sign of your package</li><li>Ensure you increment the version and/or build number after each successfully signed package file</li></ul><p>If successful, your final .bar file is located in the Device-Release folder here:</p><p>C:\ndk-2.1.0-workspace\myapp\Device-Release\myapp-1_1_0_10.bar (example)</p><p>This is the "file bundle" you will be asked for when you submit to the App World Developer portal (you will need to make a zip file of it first).</p><br><br></div><div class="footer" style="background: #000 url('../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div><script type="text/javascript">prettyPrint(true);</script></body></html>