<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Space Game - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<link href="../../main.css" rel="styleSheet" type="text/css" />
<link href="../../prettify.css" rel="styleSheet" type="text/css" />
<script type="text/javascript" src="../../prettify.js"></script>
<script type="text/javascript" src="../../lang-agk.js"></script>
<link rel="stylesheet" href="../lightbox/css/lightbox.min.css">
<script src="../lightbox/js/lightbox-plus-jquery.min.js"></script>
<script src="../clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script>
</head>
<body>
<script>var clipboard = new Clipboard('.btn');
clipboard.on('success', function(e)
{
console.log(e);
});
clipboard.on('error', function(e)
{
console.log(e);
});
</script>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../examples.html">Examples</a> &gt; Space Game</div><div class="page"><h1>Space Game</h1><h2>Description</h2><p>This example takes you through the process of creating a complete game within AGK. The game is set in space, in a randomly generated side scrolling level that is populated with dangerous aliens. The objective is to pilot your ship through the level, destroying as many aliens along the way, avoiding any obstacles and ensure you reach safety. Here's a screen shot of the final result:</p><div align="center"><img src="0_space_game.jpg"/></div><p>Before going any further we would recommend playing the game and getting an understanding of its contents and some kind of general overview of what is happening.</p><h2>Overview</h2><p>The game doesn't require a massive amount of source code, but in order to keep things easier to work with it has been split into multiple source files:</p><ul><li>main.agc - entry point for the game</li><li>aliens.agc - deals with the aliens</li><li>level.agc - handles construction of the level</li><li>misc.agc - smaller tasks like updating the score</li><li>player.agc - controls the player</li></ul><p>Splitting source code in this manner can make navigating the project a lot easier and it's well worth doing, especially for large scale projects.</p><h2>Main.agc</h2><p>The code starts by making a call to a function named <i>Begin</i>, which can be found within main.agc. This function kicks things of by taking the following steps:</p><ul><li>Setting a virtual resolution</li><li>Loading a background for the level</li><li>Creating a star field</li><li>Creating a level</li><li>Making a set of alien enemies</li><li>Creating the player entity</li><li>Setting up a batch of explosions</li><li>Making text to be displayed on screen for the score etc.</li><li>Loading music and sound</li></ul><p>After <i>Begin</i> has been called the main loop is set up. The main loop calls:</p><ul><li><i>HandleStart</i> - to deal with the main menu</li><li><i>HandleGame</i> - sort out in game action</li><li><i>HandleEnd</i> - show the game over screen</li></ul><h2>Aliens.agc</h2><p>This file contains all the source code relating to the aliens within the game.</p><p>When the game starts <i>CreateAliens</i> is called. It is responsible for loading images for the aliens and creating the aliens. A pool of 10 aliens are made and reused throughout the level.</p><p>The function <i>CreateAlienExplosions</i> creates 5 explosions for use in the game. The reason behind using 5 explosions instead of 10 (to match the number of aliens) is simple - it reduces overheads and memory usage. The end result is that when an alien explodes a check is made to find an unused explosion from the pool of 5, if one is available it is selected and displayed on screen and then resets once it has finished. This leaves us with a maximum of 5 explosions at once on screen.</p><p><i>UpdateAliens</i> runs through the 10 aliens and positions them. It moves the alien sprites and their engines from right to left. Once an alien is out of the game view it gets repositioned off screen to the right.</p><p>The next function <i>ResetAliens</i> will ensure that all the aliens are in position and have their initial properties set.</p><p>The <i>ExplodeAlien</i> function gets called when a collision has taken place between a bullet from the player and an alien. At this point an available explosion is checked for from the pool of 5, and if one is available a large explosion is created at the position of the alien.</p><p><i>CheckBulletsWithAliens</i> runs through the 10 aliens and 10 bullets and performs a simple collision check to determine whether collisions have occurred. </p><h2>Level.agc</h2><p>This file contains code to create the background, star field and the level. The level is randomly generated by placing blocks at the top and bottom of the screen, there's also a few positioned at locations near to the centre of the screen.</p><h2>Misc.agc</h2><p>Functions in this file are used to create text entities for the score display, updating these displays and loading music and sound effects.</p><h2>Player.agc</h2><p>Code relating to the player exists in this file.</p><p>The function <i>CreatePlayer</i> loads an image for the player's ship and applies this to a sprite. This is followed with a call to <i>ResetPlayer</i> and <i>ResetBullets</i>.</p><p>The <i>ResetPlayer</i> function is called by <i>CreatePlayer</i> and when the game restarts. It's a simple function that returns the player to its default state, by setting its position and creating a particle emitter to be used as an engine trail.</p><h2>Conclusion</h2><p>Making this game turned out to be a fairly simple process in AGK and the major benefit is that it runs on multiple platforms without any alterations.</p><br><br></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div><script type="text/javascript">prettyPrint(true);</script></body></html>