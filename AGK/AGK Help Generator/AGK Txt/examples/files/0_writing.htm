<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Writing to a file - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<link href="../../main.css" rel="styleSheet" type="text/css" />
<link href="../../prettify.css" rel="styleSheet" type="text/css" />
<script type="text/javascript" src="../../prettify.js"></script>
<script type="text/javascript" src="../../lang-agk.js"></script>
<link rel="stylesheet" href="../lightbox/css/lightbox.min.css">
<script src="../lightbox/js/lightbox-plus-jquery.min.js"></script>
<script src="../clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script>
</head>
<body>
<script>var clipboard = new Clipboard('.btn');
clipboard.on('success', function(e)
{
console.log(e);
});
clipboard.on('error', function(e)
{
console.log(e);
});
</script>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../examples.html">Examples</a> &gt; Writing to a file</div><div class="page"><h1>Writing to a file</h1><h2>Description</h2><p>There will likely be occasions when your game requires the ability to store data on file, this is where the file access commands in AGK come into play. Through the use of these commands it's possible to store data and read this back in.</p><p>How to open a file and write data to it is demonstrated in this document.</p><h2>Overview</h2><p>The example program takes the following steps:</p><ul><li>open a file for writing</li><li>write data such as an integer, float and string</li><li>close the file</li></ul><h2>Open a file for writing</h2><p>The command to open a file for writing is called <i>OpenToWrite</i>. It either takes two or three parameters dependant on usage. The first option is to have the command return an ID number for later usage, when taking this option the command only requires two parameters - the filename and whether you want to append to it. If you want to specify an ID number then the command takes three parameters - the ID, the filename and whether you want to append to the file.</p><p>This line of code shows the first option:</p><div id="basicCodeBlock1" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">fileID = OpenToWrite ( "myfile.txt", 0 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="fileID = OpenToWrite ( &quot;myfile.txt&quot;, 0 )
">Copy Code</button></div><div id="cppCodeBlock2" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">fileID = agk::OpenToWrite ( "myfile.txt", 0 );
</pre></div><p>An ID for the file is returned to the variable <i>fileID</i>, the first parameter "myFile.txt" tells AGK that we want to open this particular file, while the final parameter tells AGK that we do not want to append to the file, therefore this will be a completely new and empty file. If this value was 1 anything that we later wrote to the file would be appended to the end.</p><p>The alternative approach is to specify an ID number manually, instead of it being assigned in the return value:</p><div id="basicCodeBlock3" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">OpenToWrite ( 1, "myfile.txt", 0 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="OpenToWrite ( 1, &quot;myfile.txt&quot;, 0 )
">Copy Code</button></div><div id="cppCodeBlock4" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::OpenToWrite ( 1, "myfile.txt", 0 );
</pre></div><p>For the purpose of our example an ID number will be specified manually.</p><h2>Writing data to a file</h2><p>There are three possible data types that can be written to a file:</p><ul><li>integers</li><li>strings</li><li>floats</li></ul><h2>Writing an integer to file</h2><p>To write an integer to file call the <i>WriteInteger</i> command. This command takes two parameters - ID of the file and an integer. This line of code writes the value 10 to file 1</p><div id="basicCodeBlock5" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">WriteInteger ( 1, 10 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="WriteInteger ( 1, 10 )
">Copy Code</button></div><div id="cppCodeBlock6" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::WriteInteger ( 1, 10 );
</pre></div><p>Here's another example where 3 integer variables are written to file:</p><div id="basicCodeBlock7" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">a = 54
b = 99
c = 12
<br>
WriteInteger ( 1, a )
WriteInteger ( 1, b )
WriteInteger ( 1, c )
</pre></div><div align="right"><button class="btn" data-clipboard-text="a = 54
b = 99
c = 12

WriteInteger ( 1, a )
WriteInteger ( 1, b )
WriteInteger ( 1, c )
">Copy Code</button></div><div id="cppCodeBlock8" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">a = 54;
b = 99;
c = 12;
<br>
agk::WriteInteger ( 1, a );
agk::WriteInteger ( 1, b );
agk::WriteInteger ( 1, c );
</pre></div><h2>Writing a string to file</h2><p>To write a string to file call the <i>WriteString</i> command. This command takes two parameters - ID of the file and a string. This line of code writes the string "hello" to file 1</p><div id="basicCodeBlock9" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">WriteString ( 1, "hello" )
</pre></div><div align="right"><button class="btn" data-clipboard-text="WriteString ( 1, &quot;hello&quot; )
">Copy Code</button></div><div id="cppCodeBlock10" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::WriteString ( 1, "hello" );
</pre></div><p>Here's another example where 3 strings are written to file:</p><div id="basicCodeBlock11" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">a$ = "abc"
b$ = "def"
c$ = "ghi"
<br>
WriteString ( 1, a$ )
WriteString ( 1, b$ )
WriteString ( 1, c$ )
</pre></div><div align="right"><button class="btn" data-clipboard-text="a$ = &quot;abc&quot;
b$ = &quot;def&quot;
c$ = &quot;ghi&quot;

WriteString ( 1, a$ )
WriteString ( 1, b$ )
WriteString ( 1, c$ )
">Copy Code</button></div><div id="cppCodeBlock12" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">a = "abc";
b = "def;
c = "ghi";
<br>
agk::WriteString ( 1, a );
agk::WriteString ( 1, b );
agk::WriteString ( 1, c );
</pre></div><h2>Writing a float to file</h2><p>To write a float to file call the <i>WriteFloat</i> command. This command takes two parameters - ID of the file and a float. This line of code writes the value 1.23 to file 1</p><div id="basicCodeBlock13" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">WriteFloat ( 1, 1.23 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="WriteFloat ( 1, 1.23 )
">Copy Code</button></div><div id="cppCodeBlock14" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::WriteFloat ( 1, 1.23 );
</pre></div><p>Here's another example where 3 floating point variables are written to file:</p><div id="basicCodeBlock15" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">a# = 1.85
b# = 22.39
c# = 4489.0012
<br>
WriteFloat ( 1, a# )
WriteFloat ( 1, b# )
WriteFloat ( 1, c# )
</pre></div><div align="right"><button class="btn" data-clipboard-text="a# = 1.85
b# = 22.39
c# = 4489.0012

WriteFloat ( 1, a# )
WriteFloat ( 1, b# )
WriteFloat ( 1, c# )
">Copy Code</button></div><div id="cppCodeBlock16" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">a = 1.85;
b = 22.39;
c = 4489.0012;
<br>
agk::WriteFloat ( 1, a );
agk::WriteFloat ( 1, b );
agk::WriteFloat ( 1, c );
</pre></div><h2>Closing a file</h2><p>Once all data has been written to a file that file must be closed using the command <i>CloseFile</i>. This commands only parameter is the ID of the file. To close file 1:</p><div id="basicCodeBlock17" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">CloseFile ( 1 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="CloseFile ( 1 )
">Copy Code</button></div><div id="cppCodeBlock18" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::CloseFile ( 1 );
</pre></div><h2>Full code listing</h2><p>Our final program will open a file for writing and write an integer, a float and a string:</p><div id="basicCodeBlock19" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">OpenToWrite ( 1, "myfile.txt", 0 )
WriteInteger ( 1, 10 )
WriteFloat ( 1, 1.23 )
WriteString ( 1, "hello" )
CloseFile ( 1 )
</pre></div><div align="right"><button class="btn" data-clipboard-text="OpenToWrite ( 1, &quot;myfile.txt&quot;, 0 )
WriteInteger ( 1, 10 )
WriteFloat ( 1, 1.23 )
WriteString ( 1, &quot;hello&quot; )
CloseFile ( 1 )
">Copy Code</button></div><div id="cppCodeBlock20" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::OpenToWrite ( 1, "myfile.txt", 0 );
<br>
agk::WriteInteger ( 1, 10 );
agk::WriteFloat ( 1, 1.23 );
agk::WriteString ( 1, "hello" );
<br>
agk::CloseFile ( 1 );
</pre></div><h2>Conclusion</h2><p>As you can see from the above code, opening a file and writing data to it is a fairly simple process. </p><br><br></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div><script type="text/javascript">prettyPrint(true);</script></body></html>