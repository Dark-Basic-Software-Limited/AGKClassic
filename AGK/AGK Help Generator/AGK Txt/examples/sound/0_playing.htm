<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Play a sound - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<link href="../../main.css" rel="styleSheet" type="text/css" />
<link href="../../prettify.css" rel="styleSheet" type="text/css" />
<script type="text/javascript" src="../../prettify.js"></script>
<script type="text/javascript" src="../../lang-agk.js"></script>
<link rel="stylesheet" href="../lightbox/css/lightbox.min.css">
<script src="../lightbox/js/lightbox-plus-jquery.min.js"></script>
<script src="../clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script>
</head>
<body>
<script>var clipboard = new Clipboard('.btn');
clipboard.on('success', function(e)
{
console.log(e);
});
clipboard.on('error', function(e)
{
console.log(e);
});
</script>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../examples.html">Examples</a> &gt; Play a sound</div><div class="page"><h1>Play a sound</h1><h2>Description</h2><p>In this example we're going to find out how to load a sound file and play it when the user clicks / touches the screen.</p><div align="center"><img src="0_sound.jpg"/></div><p>We rely on an external piece of media for this example. It's a Wave file named "countdown.wav". AGK supports the Wave format for sound and the MP3 format for music.</p><h2>Process</h2><p>The process involved is as follows:</p><ul><li>load a sound</li><li>when the user clicks / touches the screen play our sound</li></ul><h2>Load a sound</h2><p>As with other resources sounds use ID numbers. These ID numbers are specifically for sounds, so it's possible to have a sound with an ID number of 1 and a sprite with an ID of 1. Just like with other resources it's possible to have an ID number assigned automatically or provide one yourself. Either approach works just as well. In this example we'll take the approach of automatically assigned ID numbers.</p><p>In order to load a sound we simply need to call the function LoadSound and pass in a string that refers to our Wave file, and save the returned ID number:</p><div id="basicCodeBlock1" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">sound = LoadSound ( "countdown.wav" )
</pre></div><div align="right"><button class="btn" data-clipboard-text="sound = LoadSound ( &quot;countdown.wav&quot; )
">Copy Code</button></div><div id="cppCodeBlock2" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">sound = agk::LoadSound ( "countdown.wav" );
</pre></div><p>After calling this our file "countdown.wav" has been loaded into memory and ready to be used. We can later refer to it through the ID number we have saved in the variable <i>sound</i>.</p><p>For the sake of comparison here's the alternative approach:</p><div id="basicCodeBlock3" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">LoadSound ( 1, "countdown.wav" )
</pre></div><div align="right"><button class="btn" data-clipboard-text="LoadSound ( 1, &quot;countdown.wav&quot; )
">Copy Code</button></div><div id="cppCodeBlock4" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">agk::LoadSound ( 1, "countdown.wav" );
</pre></div><p>In this example instead of being assigned an ID number we specify it with the first parameter. This may be more convenient in some cases as you don't have to store an ID number in a variable. The drawback is that as your project becomes larger it's likely to cause problems as you end up dealing with lots of numbers, whereas having it automatically assigned means you don't have to care about it.</p><h2>Main loop</h2><p>Within our main loop we will trigger the playing of our sound whenever the user touches / clicks the screen.</p><div id="basicCodeBlock5" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">do
    if GetPointerPressed ( ) = 1
        PlaySound ( sound )
    endif
<br>
    sync ( )
loop
</pre></div><div align="right"><button class="btn" data-clipboard-text="do
    if GetPointerPressed ( ) = 1
        PlaySound ( sound )
    endif

    sync ( )
loop
">Copy Code</button></div><div id="cppCodeBlock6" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">void app::Loop ( void )
{
    if ( agk::GetPointerPressed ( ) == 1 )
    {
        agk::PlaySound ( sound );
    }
}
</pre></div><p>As we're not interested in where the touch events take place, only that it has taken place, our input loop is fairly simple. It begins by initially checking for a touch event, followed by a call to <i>PlaySound</i> where we pass in the ID number of our sound.</p><h2>Full code listing</h2><p>Everything is now in place. Here's the final code for our program:</p><div id="basicCodeBlock7" style="border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre class="prettyprint lang-agk" style="margin:14px; font-size: 14px; white-space:pre-wrap;">backdrop = CreateSprite ( LoadImage ( "background2.jpg" ) )
SetSpriteColorAlpha ( backdrop, 100 )
SetSpriteSize ( backdrop, 100, 100 )
<br>
sound = LoadSound ( "countdown.wav" )
<br>
do
    Print ( "Touch or click the screen" )
    Print ( "to play a sound" )
<br>
    if GetPointerPressed ( ) = 1
        PlaySound ( sound )
    endif
<br>
    Sync ( )
loop
</pre></div><div align="right"><button class="btn" data-clipboard-text="backdrop = CreateSprite ( LoadImage ( &quot;background2.jpg&quot; ) )
SetSpriteColorAlpha ( backdrop, 100 )
SetSpriteSize ( backdrop, 100, 100 )

sound = LoadSound ( &quot;countdown.wav&quot; )

do
    Print ( &quot;Touch or click the screen&quot; )
    Print ( &quot;to play a sound&quot; )

    if GetPointerPressed ( ) = 1
        PlaySound ( sound )
    endif

    Sync ( )
loop
">Copy Code</button></div><div id="cppCodeBlock8" style="display:none; border: 1px solid #ccd; background: #f3f3fc; margin: 10px 0;"><pre style="margin:14px; font-size: 14px; white-space:pre-wrap;" class="prettyprint lang-cpp">void app::Begin ( void )
{
    backdrop = agk::CreateSprite ( agk::LoadImage ( "background2.jpg" ) );
    agk::SetSpriteColorAlpha ( backdrop, 100 );
    agk::SetSpriteSize ( backdrop, 100, 100 );
<br>
    agk::LoadSound ( 1, "countdown.wav" );
}
<br>
void app::Loop ( void )
{
    agk::Print ( "Touch or click the screen" );
    agk::Print ( "to play a sound" );
<br>
    if ( agk::GetPointerPressed ( ) == 1 )
    {
        agk::PlaySound ( sound );
    }
<br>
    agk::Sync ( );
}
</pre></div><h2>Conclusion</h2><p>We're now all set to run our application and see the results on screen. Once the application has launched try touching the screen or clicking on it and listen for the sound being played.</p><br><br></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div><script type="text/javascript">prettyPrint(true);</script></body></html>